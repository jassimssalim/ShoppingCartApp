<app-nav-user></app-nav-user>
<body>    
<div class="checkout-page">
  <strong class="title-cart">Please Confirm Your Checkout</strong>
  
  <!-- Check if there are items in the cart -->
  <div *ngIf="cartList.length > 0; else noItems">
    <!-- Cart items table -->
    <table id="cart-table">
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Price (PHP)</th>
          <th>Quantity</th>
          <th>Subtotal (PHP)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartList; trackBy: trackByProductName">
          <td>{{ item.productName }}</td>
          <td>{{ getPrice(item.productName) }}</td>
          <td>{{ item.orderQuantity }}</td>
          <td>{{ calculateSubtotal(item.productName) }}</td>
        </tr>
      </tbody>
    </table>

    <!-- Total payment summary -->
    <div class="cart-summary">
      <p>Total Payment: <span>{{ getTotalPayment() }} PHP</span></p>
    </div>

    <!-- Confirm order button -->
    <div class="cart-actions">
      <button (click)="confirmOrder()" class="checkout-button">Confirm Order</button>
      <button class="back-button" [routerLink]="['/user-page', username, 'cart']">Go Back</button>
    </div>
  </div>
  
  <!-- Template for displaying a message when there are no items -->
  <ng-template #noItems>
    <p class="no-items-message">You have no items in your cart to checkout.</p>
    <button class="back-button" [routerLink]="['/user-page', username, 'cart']">Go Back</button>
  </ng-template>
</div>
</body>