<app-nav-user></app-nav-user>

<div class="dashboard-container">
  <div class="wc">
    <h1>Welcome {{ username }}!</h1>
    <input class="addcart" type="search" placeholder="Search products..." (input)="searchProducts($event)" />
  </div>

  <!-- Filter Section -->
  <div class="filter-section">
    <div class="filter">
      <h5>Filter by Category</h5>
      <select (change)="filterByCategory($event)">
        <option value="all">All Categories</option>
        <option *ngFor="let category of productCategories" [value]="category">
          {{ category }}
        </option>
      </select>
    </div>

    <div class="filter">
      <h5>Filter by Price Range</h5>
      <select (change)="filterByPriceRange($event)">
        <option value="all">All Price Ranges</option>
        <option value="under10">Under ₱10</option>
        <option value="11-25">₱11 - ₱25</option>
        <option value="26-50">₱26 - ₱50</option>
        <option value="51+">Above ₱50</option>
      </select>
    </div>

    <div class="filter">
      <h5>Sort by Name</h5>
      <select (change)="sortByName($event)">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
      </select>
    </div>
  </div>

  <!-- Products Section -->
  <div class="products-section">
    <div class="product-card" *ngFor="let product of filteredProducts">
      <img [src]="product.imageURL" *ngIf="product.imageURL" alt="{{ product.name }}" class="product-image" />
      <div class="product-details">
        <h5>{{ product.name }}</h5>
        <p>Category: {{ product.category }}</p>
        <p>Price: ₱{{ product.price }}</p>
        <div class="quantity-container">
          <label for="quantity-{{ product.id }}">Quantity</label>
          <input id="quantity-{{ product.id }}" type="number" [(ngModel)]="quantity[product.id]" min="1" placeholder="Quantity" />
        </div>
        <button class="add-to-cart-btn" (click)="addToCart(product)">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section about">
        <h2 style='color: #89eb89;'>About CartiFy</h2>
        <p>
          CartiFy is your one-stop online shop for the best deals and latest products. 
          We bring you the best shopping experience right to your home.
        </p>
      </div>
      <div class="footer-section team">
        <h2 style='color: #89eb89;'>Our Team</h2>
        <p>
          <strong>Mc Leonard Ledda</strong> - UI/Developer <br>
          <strong>Jassim S. Mohammed Salim</strong> - UI/Developer<br>
          <strong>Pauline Pangilinan</strong> - UI/Developer<br>
          <strong>Jeffrey D. Torres</strong> - UI/Developer
        </p>
      </div>
      <div class="footer-section links">
        <h2 style='color: #89eb89;'>Our Links</h2>
        <ul>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2024 CartiFy | Designed with passion by Team 2.
    </div>
  </footer>

  <!-- Message add to cart -->
  <div id="toaster" class="toaster" *ngIf="isShowPop;">
    <p id="toaster-message">You successfully added items in your cart.</p>
  </div>
</div>
